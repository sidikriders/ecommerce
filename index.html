<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>ECommerce-layout</title>
    <link href="https://fonts.googleapis.com/css?family=Walter+Turncoat" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script
      src="https://code.jquery.com/jquery-3.2.1.js"
      integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
      crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/js/materialize.min.js"></script>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/css?family=Meddon" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Inconsolata|Indie+Flower|Metamorphous" rel="stylesheet">
    <script src="https://unpkg.com/vue"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>
  <body>
    <div id="isi">
    <!-- nav-bar -->

    <nav id="navbar">
      <a href="#"><img src="img/horrorel.png" alt="logo" style="height: 25px; margin: 35px 0 0 60px;"></a>
      <li class="search-bar" style="margin:0 0 -17px 0; width: 40%;">
        <input type="text" id="search-text" placeholder="Cari produk, kategori, atau merk" style="width: 100%; height: 20px; margin-top:5px; padding-left: 10px;">
        <div id="search-button" style="background-color: white; width: 30px; height: 25px; margin-top: 1px; margin-right: 15px">
          <a href="#">
            <img src="img/Magnifying_glass_icon.svg.png" alt="cari" style="height: 15px; margin:0 5px 17px 5px;">
          </a>
        </div>
      </li>
      <li class="nav-li" style="padding: 0px 10px 0px 10px; margin-left: 10% height:inherit;"><a href="#">home</a></li>
      <li class="nav-li" style="padding: 0px 10px 5px 10px; height:64px"><a href="#">category</a></li>
      <li class="nav-li" style="padding: 0px 10px 0px 10px; height:64px"><a href="#">contact us</a></li>
      <!-- <li><a class="modal-trigger" href="modal1">TEST</a></li> -->
      <a class="modal-trigger" href="#modal1"><li class="nav-li" style="padding: 5px 10px 0px 10px; height:64px"><img src="img/white-cart.png" alt="trolley" style="height: 20px;"></li></a>
    </nav>

    <div class="slider">
      <ul class="slides" style="font-family: 'Walter Turncoat', cursive;">
        <li>
          <img src="img/marilyn-manson.jpg" style="width: 100%;">
          <div class="caption right-align">
            <h3>Men's Clothes</h3>
            <h5>a horrifiyng mens clothes</h5>
            <a v-on:click='getCategoryItems("Male")' href="#patokan">
                <img src="img/rsz_1shop-now-button.png" alt="shop"
                style="margin-top: 0px; height: 50px; width: 180px; filter: invert(100%); transition-duration: 0.3s;" class="shop-now-btn">
            </a>
          </div>
        </li>
        <li>
          <img src="img/Punk-Rave-1360x600.jpg" style="width: 100%">
          <div class="caption center-align">
            <h3>Womens Apparel</h3>
            <h5>Gotchick is in the house!</h5>
            <a v-on:click='getCategoryItems("Female")' href="#patokan">
                <img src="img/rsz_1shop-now-button.png" alt="shop"
                style="margin-top: 0px; height: 50px; width: 180px; filter: invert(100%); transition-duration: 0.3s;" class="shop-now-btn">
            </a>
          </div>
        </li>
        <li>
          <img src="https://cdn0.vox-cdn.com/thumbor/PwbilRTbcS6o0vHdydtLydh9cRQ=/154x0:1242x612/1600x900/cdn0.vox-cdn.com/uploads/chorus_image/image/47578809/Screen_Shot_2015-11-03_at_7.24.24_PM.0.0.png" style="filter: drop-shadow(100%)">
          <div class="caption left-align">
            <h3>Unisex Collections</h3>
            <h5>when you dont know what to wear</h5>
            <a v-on:click='getCategoryItems("Unisex")' href="#patokan">
                <img src="img/rsz_1shop-now-button.png" alt="shop"
                style="margin-top: 0px; height: 50px; width: 180px; filter: invert(100%); transition-duration: 0.3s;" class="shop-now-btn">
            </a>
          </div>
        </li>
        <li>
          <img src="http://37.media.tumblr.com/203165742ba0c56d730ea3fa65363ea5/tumblr_n1mzgnpbVX1s310c6o2_1280.jpg" style="filter: invert(30%)">
          <div class="caption center-align" style="">
            <h3>Accessories</h3>
            <h5>will multiply your gothickness by 10</h5>
            <a v-on:click='getCategoryItems("Accessories")' href="#patokan">
                <img src="img/rsz_1shop-now-button.png" alt="shop"
                style="margin-top: 0px; height: 50px; width: 180px; filter: invert(100%); transition-duration: 0.3s;" class="shop-now-btn">
            </a>
          </div>
        </li>
      </ul>
    </div>



    <div id="modal1" class="modal">
      <div class="modal-content cart-content">
        <h4>Your Cart</h4>
        <table>
          <thead>
            <tr>
              <th>No.</th>
              <th>Nama Barang</th>
              <th>Jumlah</th>
              <th>Total</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1.</td>
              <td>Red Vintage Gothic</td>
              <td>2</td>
              <td>Rp. 300.000,-</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">Keep Shopping</a>
        <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">Checkout</a>
      </div>
    </div>


    <div id="patokan" class="scrollspy">

    </div>
    <h3 id="category-header" class="center-align" style="font-family: 'Meddon', cursive; margin:100px auto 70px auto">{{categoryHeader}}</h3>

    <div class="col s12 baju" style="margin: 1% 0;">
      <div class="">

      </div>
     <div class="row" id="rowBaju">
       <div v-for="item in items" class="col s2 baju-deret" style="border: 0.3px solid #e0e0e0; margin-left: 1.5%; margin-right: 1.5%; margin-bottom: 20px; padding: 0; min-height: 316px;">
         <div class="img-baju" style="max-height: 180px; overflow: hidden;">
             <img :src=item.image alt="baju"
             style="width: 100%;">
         </div>
         <div :id=item._id class="content-baju">
           <h5>{{item.name}}</h5>
           <p class="harga">Rp. {{item.price}},-</p>
           <a class="add-to-cart waves-effect waves-light grey darken-3 btn" v-on:click=addToCart(item.name)>BUY</a>
         </div>
       </div>
     </div>
    </div>

    <footer class="page-footer" style="background-color: #1b1f26; margin-top: 7%;">
          <div class="container">
            <div class="row">
              <div class="col l6 s12" style="margin-top: 30px;">
                <img src="img/horrorel.png" alt="logo" style="height: 35px;">
                <br>
                <p class="grey-text text-lighten-4">You can use rows and columns here to organize your footer content.</p>
              </div>
              <div class="col l4 offset-l2 s12">
                <h5 class="white-text">Links</h5>
                <ul>
                  <li><a class="grey-text text-lighten-3" href="#!">Link 1</a></li>
                  <li><a class="grey-text text-lighten-3" href="#!">Link 2</a></li>
                  <li><a class="grey-text text-lighten-3" href="#!">Link 3</a></li>
                  <li><a class="grey-text text-lighten-3" href="#!">Link 4</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="footer-copyright">
            <div class="container">
            Â© 2014 Copyright Text
            <a class="grey-text text-lighten-4 right" href="#!">More Links</a>
            </div>
          </div>
        </footer>
  </div>

    <script type="text/javascript">

      var app = new Vue({
        el: '#isi',
        data: {
          categoryHeader: "Gothicarel",
          items: [],
          cart: [],
        },
        mounted: function() {
          $(document).ready(function(){
            $('.slider').slider();
            $('.modal').modal();
            $('.scrollspy').scrollSpy();
            $('.collapsible').collapsible();
          });
        },
        methods: {
          getCategoryItems: function(category) {
            var self = this
            axios.get("http://localhost:3000/items/"+category)
            .then(function(response) {
              self.items = response.data;
              if (category == 'Accessories') {
                self.categoryHeader = "Accessories"
              } else {
                self.categoryHeader = `${category} Apparel`
              }
            })
            .catch((err) => {
              console.log(err);
            })
          },
          addToCart: function(name) {
            console.log(name);
          }
        }
      })
    </script>
  </body>
</html>
